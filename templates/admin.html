<!DOCTYPE html>
<html lang="en" >


<head>
  <meta charset="UTF-8">
  <title>Admin Module</title>
  <link rel="stylesheet" href="static/styles/admin.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script type="text/javascript">

    function loadContent(selector){
      $("#loadOnClick").html($(selector).html());
    };

    
    $(document).ready(function(){
      loadContent("#{{ tab }}");
      
      });
  </script>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

</head>


<body style="background-color: #d1d1d1; padding-right: 0px;">

<!--================================================= NAV BAR STUFF ==================================================================--->

<nav class="menu" tabindex="0">
  <div class="smartphone-menu-trigger"></div>
  <header class="avatar">
    <img src="/static/img/admin.png" />
    <h2>Admin</h2>
  </header>
  <ul>
    <li tabindex="0" href="#home" onclick='loadContent("#home")'>
      <img class = "list-icon" src="http://www.entypo.com/images//home.svg">
      <span>Home</span>
    </li>
    <li tabindex="0" href="#requests" onclick='loadContent("#requests")'>
      <img class = "list-icon" src="http://www.entypo.com/images//briefcase.svg">
      <span>Requests</span>
    </li>
    <li tabindex="0" href="#donations" onclick='loadContent("#donations")' >
      <img class = "list-icon" src="http://www.entypo.com/images//drop.svg">
      <span>Donations</span>
    </li>
    <li tabindex="0" href="#donors" onclick='loadContent("#donors")'>
      <img class = "list-icon" src="http://www.entypo.com/images//users.svg">
      <span>Donors</span>
    </li>
    <!-- <li tabindex="0" href="#camps" onclick='loadContent("#camps")'>
      <img class = "list-icon" src="http://www.entypo.com/images//calendar.svg">
      <span>Camps</span>
    </li> -->

  </ul>
</nav>

<!--================================================= THAT RIGHT SIDE CONTENT DIV ====================================================--->

<main>
  <div class="col-sm-12 main" id="loadOnClick" style="margin: 15px; padding: 22px; width: auto; background-color: white;">
<!-- 
                                      THE
                                      DIV
                                      WHERE
                                    CONTENT
                                      IS
                                      SHOWN
-->

  </div>
</main>

<!--===================================================== Divs for individual tabs ====================================================-->

<!--=================================================  H O M E  ===========================================================--->

<div id="home" class="displayOnClick">

  <div class="container-fluid">
    <div class="row mt-3 ml-3 mr-3">
          <div class="col-lg-12">
              <p>Welcome Back, Administrator !</p>
              <hr>
              <h4><b>Available Blood per group in milliLitres</b></h4>
              <div class="row">
                <div class="col-md-3">
                  <div class="card-counter primary">
                    <span class="blood-group-label">A+</span>
                    <span class="count-numbers">{{ stock_info['A+'] }}</span>
                    <span class="count-name">mL</span>
                  </div>
                </div>
            
                <div class="col-md-3">
                  <div class="card-counter danger">
                    <span class="blood-group-label">B+</span>
                    <span class="count-numbers">{{ stock_info['B+'] }}</span>
                    <span class="count-name">mL</span>
                  </div>
                </div>
            
                <div class="col-md-3">
                  <div class="card-counter success">
                    <span class="blood-group-label">AB+</span>
                    <span class="count-numbers">{{ stock_info['AB+'] }}</span>
                    <span class="count-name">mL</span>
                  </div>
                </div>
            
                <div class="col-md-3">
                  <div class="card-counter info">
                    <span class="blood-group-label">O+</span>
                    <span class="count-numbers">{{ stock_info['O+'] }}</span>
                    <span class="count-name">mL</span>
                  </div>
                </div>
              </div>

              <div style="padding:10px"></div>
              
              <div class="row">
                <div class="col-md-3">
                  <div class="card-counter primary">
                    <span class="blood-group-label">A-</span>
                    <span class="count-numbers">{{ stock_info['A-'] }}</span>
                    <span class="count-name">mL</span>
                  </div>
                </div>
            
                <div class="col-md-3">
                  <div class="card-counter danger">
                    <span class="blood-group-label">B-</span>
                    <span class="count-numbers">{{ stock_info['B-'] }}</span>
                    <span class="count-name">mL</span>
                  </div>
                </div>
            
                <div class="col-md-3">
                  <div class="card-counter success">
                    <span class="blood-group-label">AB-</span>
                    <span class="count-numbers">{{ stock_info['AB-'] }}</span>
                    <span class="count-name">mL</span>
                  </div>
                </div>
            
                <div class="col-md-3">
                  <div class="card-counter info">
                    <span class="blood-group-label">O-</span>
                    <span class="count-numbers">{{ stock_info['O-'] }}</span>
                    <span class="count-name">mL</span>
                  </div>
                </div>
              </div>

              <div style="padding:10px"></div>

              <hr>

              <div style="padding:10px"></div>

              <div class="row">
                <div class="col-md-3">
                  <div class="card-counter big-card">
                    <i class="fa fa-users blueicolor"></i>
                    <span class="count-numbers">{{ dashboard['total_donors'] }}</span>
                    <span class="count-name">Total Donors</span>
                  </div>
                </div>
            
                <div class="col-md-3">
                  <div class="card-counter big-card">
                    <i class="fa fa-tint redicolor"></i>
                    <span class="count-numbers">{{ dashboard['total_donated_today'] }}</span>
                    <span class="count-name">Total Donated Today</span>
                  </div>
                </div>
            
                <div class="col-md-3">
                  <div class="card-counter big-card">
                    <i class="fa fa-th-list blackicolor"></i>
                    <span class="count-numbers">{{ dashboard['todays_requests'] }}</span>
                    <span class="count-name">Today's Requests</span>
                  </div>
                </div>
            
                <div class="col-md-3">
                  <div class="card-counter big-card">
                    <i class="fa fa-check greenicolor"></i>
                    <span class="count-numbers">{{ dashboard['todays_approved_requests'] }}</span>
                    <span class="count-name">Today's Approved Requests</span>
                  </div>
                </div>
              </div>
              
              <div style="padding:10px"></div>

          </div>
    </div>
  </div>

</div>



<!--=================================================  R E Q U E S T S ===========================================================--->

<div id="requests" class="displayOnClick">
  <!-- <h1>REQUEST</h1> -->
  <div class="container-fluid">
	
    <div class="col-lg-12">
      <div class="row">
        <!-- FORM Panel -->
        <div class="row mb-4 mt-4">
          <div class="col-md-12">
            
          </div>
        </div>
  
        <!-- Table Panel -->
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">
              <b>List of Requests</b>
              <span class="float:right">
                <a href="#NewRequestModal" data-toggle="modal" class="btn btn-primary btn-block btn-sm col-sm-2" href="javascript:void(0)" id="new_donor" style="float:right">
                  <ion-icon name="add-circle"></ion-icon> New Entry
                </a>
              </span>
            </div>
            <div class="card-body">
              <table class="table table-condensed table-bordered table-hover">
                <thead>
                  <tr>
                    <th class="text-center">#</th>
                    <th class="">Date</th>
                    <th class="">Patient Name</th>
                    <th class="">Blood Group</th>
                    <th class="">Information</th>
                    <th class="text-center">Status</th>
                    <th class="text-center">Action</th>
                  </tr>
                </thead>
                <tbody>
                  {% for request in requests %}
                    <tr>
                      <td class="text-center">{{ loop.index }}</td>
                      <td class=""><p><b>   {{ request['date_of_request'] }}  </b></p></td>
                      <td class=""><p><b>   {{ request['patient_name'] }}   </b></p></td>
                      <td class=""><p> <b>  {{ request['blood_group'] }}           </b></p></td>
                      <td class="">
                        <p>Volume Needed : <b>{{ request['volume_needed'] }} mL</b></p>
                        <p>Physician Name: <b>{{ request['physician_name'] }}</b></p>
                    </td>

                    <td class="text-center">
                      {% if request['status'] == "Approved" %}
                        <span class="badge badge-success">Approved</span>
                      {% else %}
                        <a href="#StatusChangeModal{{ loop.index }}" data-toggle="modal" > <span class="badge badge-primary">Pending</span> </a>
                      <!-- <span class="badge badge-success">Approved</span> -->
                      {% endif %}
                    </td>

                      <td class="text-center">
                        <a href="#DeleteRequestModal{{ loop.index }}" data-toggle="modal"><button class="btn btn-sm btn-outline-danger delete_donor" type="button">Delete</button></a>
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- Table Panel -->
      </div>
    </div>	
  
  </div>

</div>

<!--------------------------------------------- New Request Entry Modal ----------------------------------------------------------->
<div id="NewRequestModal" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content" style="width:650px">
			<div class="modal-header flex-column">						
				<h4 class="modal-title w-100">Enter Request details below : </h4>	
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body" >    <!-- HERE GOES THE FORM -->
				<div class="card">
          <div class="card-body">
        
            <form action="{{url_for('add_request')}}" method="POST">
              <!-- Input type text -->
              <div class="form-group">
                <label for="patient_name">Patient Name</label>
                <input type="text" class="form-control" name="patient_name" id="patient_name" placeholder="Patient Name">
              </div>

              <div class="form-group">
                <div class="row">
                    <div class="col">
                      <label for="physician_name">Physician Name</label>
                      <input type="text" class="form-control" name="physician_name" id="physician_name" placeholder="Physician Name">
                    </div>

                    <div class="col">
                      <label for="hospital_id">Hospital ID</label>
                      <input type="text" class="form-control" name="hospital_id" id="hospital_id" placeholder="Enter Hospital ID"">
                    </div>
                </div>
              </div>
    
              <div class="form-group">
                <div class="row">
                  <div class="col">
                    <label for="bloodgroup">Blood Group</label>
                    <select class="custom-select" name="bloodgroup" id="bloodgroup">
                      <option value="A+">A+</option>
                      <option value="A-">A-</option>
                      <option value="B+">B+</option>
                      <option value="B-">B-</option>
                      <option value="AB+">AB+</option>
                      <option value="AB-">AB-</option>
                      <option value="O+">O+</option>
                      <option value="O-">O-</option>
                    </select>
                  </div>
                  <div class="col">
                    <label for="volume_needed">Volume (in mL)</label>
                    <input type="text" class="form-control" name="volume_needed" id="volume_needed"  placeholder="Volume Required">
                  </div>
                </div>
              </div>
    
              <div class="form-group">
                <label for="date_of_request">Date of Request</label>
                <input type="date" class="form-control" name="date_of_request" id="date_of_request" placeholder="Enter Date of Last Donation">
              </div>

              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-success">Add Request</button>
              </div>
            
            </form>
        
        
          </div>
        </div>
        
			</div>
			
		</div>
	</div>
</div>

<!---------------------------------------------  Status Change Modal ----------------------------------------------------------->

{% for request in requests %}

<div id="StatusChangeModal{{ loop.index }}" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content">
			<div class="modal-header flex-column">
				<div class="icon-box">
					<i class="material-icons">&#xe8fd;</i>
				</div>						
				<h3 class="modal-title w-100">Are you sure you want to approve this Request ?</h3>	
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="">
        {% set available = stock_info[ request['blood_group'] ] %}
        {% set required = request['volume_needed'] %}
				<h5>Stock of {{ request['blood_group'] }} blood    : <b>{{ available }}</b></h5>
        {% if required <= available %}
          <h5>Request of {{ request['blood_group'] }} blood  : <b>{{ required }}</b></h5>
        {% else %}
          <h5 style="color: red;">Request of {{ request['blood_group'] }} blood  : <b>{{ required }}</b></h5>
        {% endif %}
			</div>

      <form action="{{url_for('change_request_status')}}" method="POST">
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          {% if required <= available %}
            <button type="submit" class="btn btn-success">Approve</button>
          {% endif %}
          <input type="text" name="request_id" value="{{ request['request_id'] }}" style="height: 0;width: 0;padding: 0;margin: 0;">
        </div>
      </form>
		</div>
	</div>
</div>

{% endfor %}

<!--------------------------- Delete Request Modal ------------------------->

{% for request in requests %}
<div id="DeleteRequestModal{{ loop.index }}" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content">
			<div class="modal-header flex-column">
				<div class="icon-box">
					<i class="material-icons">&#xE5CD;</i>
				</div>						
				<h4 class="modal-title w-100">Are you sure?</h4>	
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body">
				<p>Do you really want to delete these records? This process cannot be undone.</p>
			</div>
      <form action="{{url_for('delete_request')}}" method="POST">
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-danger">Delete</button>
          <input type="text" name="request_id" value="{{ request['request_id'] }}" style="height: 0;width: 0;padding: 0;margin: 0;">
        </div>
      </form>
		</div>
	</div>
</div>
{% endfor %}








<!--================================================= D O N A T I O N S ===========================================================--->

<div id="donations" class="displayOnClick">
  <!-- <h1>DONATION</h1> -->
  <div class="container-fluid">
	
    <div class="col-lg-12">
      <div class="row mb-4 mt-4">
        <div class="col-md-12">
          
        </div>
      </div>
      <div class="row">
        <!-- FORM Panel -->
  
        <!-- Table Panel -->
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">
              <b>List of Donations</b>
              <span class="float:right">
                <a href="#NewDonationModal" data-toggle="modal" class="btn btn-primary btn-block btn-sm col-sm-2" href="javascript:void(0)" id="new_donor" style="float:right">
                  <ion-icon name="add-circle"></ion-icon> New Entry
                </a>
              </span>
            </div>
            <div class="card-body">
              <table class="table table-condensed table-bordered table-hover">
                <thead>
                  <tr>
                    <th class="text-center">#</th>
                    <th class="">Date</th>
                    <th class="">Donor</th>
                    <th class="">Blood Group</th>
                    <th class="">Volume (mL)</th>
                    <th class="text-center">Action</th>
                  </tr>
                </thead>
                <tbody>
                  {% for donation in donations %}
                    <tr>
                      <td class="text-center">{{ loop.index }}</td>
                      <td class=""><p><b>   {{ donation['date_of_donation'] }}   </b></p></td>
                      <td class=""><p><b>   {{ donation['donor_name'] }}   </b></p></td>
                      <td class=""><p> <b>  {{ donation['blood_group'] }}          </b></p></td>
                      <td class=""><p> <b>  {{ donation['volume'] }} mL         </b></p></td>

                      <td class="text-center">
                        <!-- <a href="#EditDonationModal" data-toggle="modal"><button class="btn btn-sm btn-outline-primary edit_donor" type="button" >Edit</button></a> -->
                        <a href="#DeleteDonationModal{{ loop.index }}" data-toggle="modal"><button class="btn btn-sm btn-outline-danger delete_donor" type="button">Delete</button></a>
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- Table Panel -->
      </div>
    </div>	
  
  </div>

</div>

<!-------------------------- Edit Donation Modal [discarded] ---------------------------->

<div id="EditDonationModal" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content" style="width:650px">
			<div class="modal-header flex-column">						
				<h4 class="modal-title w-100">Edit Donation Details</h4>	
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body" >    <!-- HERE GOES THE FORM -->
				<div class="card">
          <div class="card-body">
        
        <form>
          <!-- Input type text -->
          <div class="form-group">
            <label for="fullname">Donor Name</label>
            <input type="text" class="form-control" name="fullname" id="fullname" value="Ninad Patil" placeholder="Full Name">
          </div>

          <div class="form-group">
            <div class="row">
              <div class="col">
                <label for="bloodgroup">Blood Group</label>
                <select class="custom-select" name="bloodgroup" id="bloodgroup">
                  <option value="A+">A+</option>
                  <option value="A-">A-</option>
                  <option value="B+">B+</option>
                  <option value="B-">B-</option>
                  <option value="AB+" selected>AB+</option>
                  <option value="AB-">AB-</option>
                  <option value="O+">O+</option>
                  <option value="O-">O-</option>
                </select>
              </div>
              <div class="col">
                <label for="fullname">Volume (in mL)</label>
                <input type="text" class="form-control" name="fullname" id="fullname"  placeholder="Volume Donated" value="450 mL">
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="last_date_of_donation">Date of Donation</label>
            <input type="date" class="form-control" name="last_date_of_donation" id="last_date_of_donation" placeholder="Enter Date of Last Donation" value="2020-01-20">
          </div>
        
        </form>
        
        
          </div>
        </div>
        
			</div>
			<div class="modal-footer justify-content-center">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-primary">Save</button>
			</div>
		</div>
	</div>
</div> 

<!----------------------- New Donation Entry Modal --------------------------->
<div id="NewDonationModal" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content" style="width:650px">
			<div class="modal-header flex-column">						
				<h4 class="modal-title w-100">Enter Donation details below : </h4>	
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body" >    <!-- HERE GOES THE FORM -->
				<div class="card">
          <div class="card-body">
        
            <form action="{{url_for('add_donation')}}" method="POST">
              <!-- Input type text -->
              <div class="form-group">
                <label for="donor_id">Donor ID</label>
                <input type="text" class="form-control" name="donor_id" id="donor_id" placeholder="Enter Donor ID"">
              </div>
    
              <div class="form-group">
                    <label for="volume">Volume (in mL)</label>
                    <input type="text" class="form-control" name="volume" id="volume"  placeholder="Volume Donated">
              </div>
    
              <div class="form-group">
                <label for="date_of_donation">Date of Donation</label>
                <input type="date" class="form-control" name="date_of_donation" id="date_of_donation" placeholder="Enter Date of Last Donation">
              </div>

              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-success">Add Donation</button>
              </div>
            
            </form>
        
        
          </div>
        </div>
        
			</div>
		</div>
	</div>
</div> 

<!--------------------------- Delete Donation Modal ------------------------->

{% for donation in donations%}
<div id="DeleteDonationModal{{ loop.index }}" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content">
			<div class="modal-header flex-column">
				<div class="icon-box">
					<i class="material-icons">&#xE5CD;</i>
				</div>						
				<h4 class="modal-title w-100">Are you sure?</h4>	
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body">
				<p>Do you really want to delete these records? This process cannot be undone.</p>
			</div>
      <form action="{{url_for('delete_donation')}}" method="POST">
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-danger">Delete</button>
          <input type="text" name="donation_id" value="{{ donation['donation_id'] }}" style="height: 0;width: 0;padding: 0;margin: 0;">
        </div>
      </form>
		</div>
	</div>
</div>
{% endfor %}





<!--================================================= D O N O R S ==================================================================--->

<div id="donors" class="displayOnClick">
  <!-- <h1>DONORS</h1> -->
  <div class="container-fluid">
	
    <div class="col-lg-12">
      <div class="row mb-4 mt-4">
        <div class="col-md-12">
          
        </div>
      </div>
      <div class="row">
        <!-- FORM Panel -->
  
        <!-- Table Panel -->
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">
              <b>List of Donors</b>
              <span class="float:right">
                <a href="#NewDonorModal" data-toggle="modal" class="btn btn-primary btn-block btn-sm col-sm-2" href="javascript:void(0)" id="new_donor" style="float:right">
                  <ion-icon name="add-circle"></ion-icon> New Entry
                </a>
              </span>
            </div>
            <div class="card-body">
              <table class="table table-condensed table-bordered table-hover">
                <thead>
                  <tr>
                    <th class="text-center">ID</th>
                    <th class="">Donor</th>
                    <th class="">Blood Group</th>
                    <th class="">Information</th>
                    <th class="">Previous Donation</th>
                    <th class="text-center">Action</th>
                  </tr>
                </thead>
                <tbody>

                  {% for donor in donors %}
                  <tr>
                    <td class="text-center">{{ donor['donor_id'] }}</td>
                    <td class="">
                       <p> <b>{{ donor['name'] }}</b></p>
                    </td>
                    <td class="">
                       <p> <b>{{ donor['blood_group'] }}</b></p>
                    </td>
                    <td class="">
                       <p>Email: <b>{{ donor['email'] }}</b></p>
                       <p>Contact #: <b>{{ donor['contact_number'] }}</b></p>
                       <p>Address: <b>{{ donor['address'] }}</b></p>
                    </td>
                    <td>
                      {{ donor['last_date_of_donation'] }}
                    </td>
                    <td class="text-center">
                      <!-- <button class="btn btn-sm btn-outline-primary edit_donor" type="button" >Edit</button> -->
                      <!-- <button class="btn btn-sm btn-outline-danger delete_donor" type="button">Delete</button> -->
                      <a href="#EditDonorModal{{ loop.index }}" data-toggle="modal"><button class="btn btn-sm btn-outline-primary edit_donor" type="button" >Edit</button></a>
                      <a href="#DeleteDonorModal{{ loop.index }}" data-toggle="modal"><button class="btn btn-sm btn-outline-danger delete_donor" type="button">Delete</button></a>
                    </td>
                  </tr>

                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- Table Panel -->
      </div>
    </div>	
  
  </div>
</div>

<!----------------------------- Edit Donor Modal --------------------------->

{% for donor in donors%}
<div id="EditDonorModal{{ loop.index }}" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content" style="width:650px">
			<div class="modal-header flex-column">						
				<h4 class="modal-title w-100">Edit Donor Details</h4>	
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body" >    <!-- HERE GOES THE FORM -->
				<div class="card">
          <div class="card-body">
        
            <form action="{{url_for('edit_donor')}}" method="POST">
              <!-- Input type text -->
              <input type="text" name="donor_id" value="{{ donor['donor_id'] }}" style="height: 0;width: 0;padding: 0;margin: 0;">
              <div class="form-group">
                <label for="fullname">Full Name</label>
                <input type="text" class="form-control" name="fullname" id="fullname" placeholder="Full Name" value="{{ donor['name'] }}">
              </div>
              
              <!-- Input text grid -->
              <div class="form-group">
                <div class="row">
                  <div class="col">
                    <label>E-mail</label>
                    <input type="text" name="email" id="email" class="form-control" placeholder="email" value="{{ donor['email'] }}">
                  </div>
                  <div class="col">
                    <label>Contact</label>
                    <input type="text" name="contact" id="contact" class="form-control" placeholder="contact" value="{{ donor['contact_number'] }}">
                  </div>
                </div>
              </div>

              <div class="form-group">
                <div class="row">
                  <div class="col">
                    <label for="bloodgroup">Blood Group</label>
                    <select class="custom-select" name="bloodgroup" id="bloodgroup">
                      <option value="A+"  {% if donor['blood_group'] == "A+"%} selected {% endif %}>A+</option>
                      <option value="A-"  {% if donor['blood_group'] == "A-"%} selected {% endif %}>A-</option>
                      <option value="B+"  {% if donor['blood_group'] == "B+"%} selected {% endif %}>B+</option>
                      <option value="B-"  {% if donor['blood_group'] == "B-"%} selected {% endif %}>B-</option>
                      <option value="AB+" {% if donor['blood_group'] == "AB+"%} selected {% endif %}>AB+</option>
                      <option value="AB-" {% if donor['blood_group'] == "AB-"%} selected {% endif %}>AB-</option>
                      <option value="O+"  {% if donor['blood_group'] == "O+"%} selected {% endif %}>O+</option>
                      <option value="O-"  {% if donor['blood_group'] == "O-"%} selected {% endif %}>O-</option>
                    </select>
                  </div>
                  <div class="col">
                    <label for="gender">Gender</label>
                    <select class="custom-select" name="gender" id="gender">
                      <option value="male" {% if donor['gender'] == "male"%} selected {% endif %}>Male</option>
                      <option value="female" {% if donor['gender'] == "female"%} selected {% endif %}>Female</option>
                      <option value="other" {% if donor['gender'] == "other"%} selected {% endif %}>Other</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <!-- Input text grid -->
              <div class="form-group">
                <div class="row">
                  <div class="col">
                    <label>State</label>
                    <input type="text" name="state" id="state" class="form-control" placeholder="state" value="{{ donor['state'] }}">
                  </div>
                  <div class="col">
                    <label>District</label>
                    <input type="text" name="district" id="district" class="form-control" placeholder="district" value="{{ donor['district'] }}">
                  </div>
                  <div class="col">
                    <label>City</label>
                    <input type="text" name="city" id="city" class="form-control" placeholder="city" value="{{ donor['city'] }}">
                  </div>
                </div>
              </div>
              
              <!-- textarea -->
              <div class="form-group">
                <label for="address">Address</label>
                <textarea class="form-control" rows="2" name="address" id="address" placeholder="Address....">{{ donor['address'] }}</textarea>
              </div>

              <div class="form-group">
                <label for="last_date_of_donation">Last of Donation</label>
                <input type="date" class="form-control" name="last_date_of_donation" id="last_date_of_donation" placeholder="Enter Date of Last Donation" value="{{ donor['last_date_of_donation'] }}">
              </div>

              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Save</button>
              </div>
        
      </form>
        
        
          </div>
        </div>
        
			</div>
			
		</div>
	</div>
</div> 
{% endfor %}

<!--------------------------- New Donor Entry Modal ------------------------->
<div id="NewDonorModal" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content" style="width:650px">
			<div class="modal-header flex-column">						
				<h4 class="modal-title w-100">Enter Donor details below : </h4>	
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body" >    <!-- HERE GOES THE FORM -->
				<div class="card">
          <div class="card-body">
        
            <form action="{{url_for('add_donor')}}" method="POST" >
                <!-- Input type text -->
                <div class="form-group">
                  <label for="fullname">Full Name</label>
                  <input type="text" class="form-control" name="fullname" id="fullname" placeholder="Full Name">
                </div>
                
                <!-- Input text grid -->
                <div class="form-group">
                  <div class="row">
                    <div class="col">
                      <label>E-mail</label>
                      <input type="text" name="email" id="email" class="form-control" placeholder="email" >
                    </div>
                    <div class="col">
                      <label>Contact</label>
                      <input type="text" name="contact" id="contact" class="form-control" placeholder="contact">
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col">
                      <label for="bloodgroup">Blood Group</label>
                      <select class="custom-select" name="bloodgroup" id="bloodgroup">
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                      </select>
                    </div>
                    <div class="col">
                      <label for="gender">Gender</label>
                      <select class="custom-select" name="gender" id="gender">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="row">
                    <div class="col">
                      <label for="fullname">Weight</label>
                      <input type="text" class="form-control" name="weight" id="fullname"  placeholder="Weight">

                    </div>
                    <div class="col">
                      <label for="last_date_of_donation">Date of Birth</label>
                      <input type="date" class="form-control"  name="date_of_birth" id="date_of_birth" placeholder="Enter Date of Birth">
                    </div>
                  </div>
                </div>
                
                <!-- Input text grid -->
                <div class="form-group">
                  <div class="row">
                    <div class="col">
                      <label>State</label>
                      <input type="text" name="state" id="state" class="form-control" placeholder="state" >
                    </div>
                    <div class="col">
                      <label>District</label>
                      <input type="text" name="district" id="district" class="form-control" placeholder="district" >
                    </div>
                    <div class="col">
                      <label>City</label>
                      <input type="text" name="city" id="city" class="form-control" placeholder="city" >
                    </div>
                  </div>
                </div>
                
                <!-- textarea -->
                <div class="form-group">
                  <label for="address">Address</label>
                  <textarea class="form-control" rows="2" name="address" id="address" placeholder="Address...."></textarea>
                </div>

                <div class="form-group">
                  <label for="last_date_of_donation">Last Date of Donation</label>
                  <input type="date" class="form-control" name="last_date_of_donation" id="last_date_of_donation" placeholder="Enter Date of Last Donation">
                </div>

                <div class="modal-footer justify-content-center">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                  <button type="submit" class="btn btn-success">Add Donor</button>
                </div>
        
            </form>
        
        
          </div>
        </div>
        
			</div>
			
		</div>
	</div>
</div> 


<!--------------------------- Delete Donor Entry Modal ------------------------->

{% for donor in donors%}
<div id="DeleteDonorModal{{ loop.index }}" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content">
			<div class="modal-header flex-column">
				<div class="icon-box">
					<i class="material-icons">&#xE5CD;</i>
				</div>						
				<h4 class="modal-title w-100">Are you sure?</h4>	
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body">
				<p>Do you really want to delete these records? This process cannot be undone.</p>
			</div>
      <form action="{{url_for('delete_donor')}}" method="POST">
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-danger">Delete</button>
          <input type="text" name="donor_id" value="{{ donor['donor_id'] }}" style="height: 0;width: 0;padding: 0;margin: 0;">
        </div>
      </form>
		</div>
	</div>
</div>
{% endfor %}

<!--=================================================================================================================================--->






<!------------------------------- Deletion Modal ---------------------------->
<!-- This remains the same for all tabs so is written only once -->

<div id="DeleteDonorModal" class="modal fade">
	<div class="modal-dialog modal-confirm">
		<div class="modal-content">
			<div class="modal-header flex-column">
				<div class="icon-box">
					<i class="material-icons">&#xE5CD;</i>
				</div>						
				<h4 class="modal-title w-100">Are you sure?</h4>	
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			</div>
			<div class="modal-body">
				<p>Do you really want to delete these records? This process cannot be undone.</p>
			</div>
			<div class="modal-footer justify-content-center">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-danger">Delete</button>
			</div>
		</div>
	</div>
</div> 








<!-- <div id="camps" class="displayOnClick">
  <h1>CAMPS</h1>
</div> -->

  <!-- partial -->
  <script  src="./script.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>

</body>
</html>
